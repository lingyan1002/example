<script type="text/javascript">
	var largestRectangleArea = function(heights) {
    var sum = 0;
    var i = 0;
    var s = [];
    heights.push(0);
    while(i < heights.length){
        if(s.length == 0 || heights[i] > heights[s[s.length-1]]){
            s.push(i);
            i++;
        }else{
            var tmp = s[s.length-1];
            s.pop();
            sum = Math.max(sum, heights[tmp]*(s.length==0?i:i-s[s.length-1]-1));
        }
    }
    return sum;
};
var a = [2,1,5,6,2,3,4,5];
alert(largestRectangleArea(a));
</script>