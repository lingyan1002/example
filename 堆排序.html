<script type="text/javascript">
function heapSort(array) {
            var temp;
            var i;
            for (i = Math.floor(array.length / 2); i >= 0; i--) {
                heapAdjust(array, i, array.length - 1); //将数组array构建成一个大顶堆
            }
            for (i = array.length - 1; i >= 0; i--) {
                /*把根节点交换出去*/
                temp = array[i];
                array[i] = array[0];
                array[0] = temp;
                /*余下的数组继续构建成大顶堆*/
                heapAdjust(array, 0, i - 1);
            }
        }
        //要调整的子树
        //start为数组开始下标
        //max是数组结束下标
        function heapAdjust(array, start, max) {
            var temp, j;
            temp = array[start];//temp是根节点的值
            for (j = 2 * start; j < max; j *= 2) {
                if (j < max && array[j] < array[j + 1]) {  //取得较大孩子的下标
                    ++j;
                }
         
                if (temp > array[j])
                    break;
                array[start] = array[j];
                start = j;
            }
            array[start] = temp;
        }
        var a = [];
var length = 10;
for(var i = 0; i < length; i++){
  a.push(Math.floor(Math.random()*10));
}
heapSort(a);
        </script>